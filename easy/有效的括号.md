[TOC]

# 题目描述

给定一个只包括 `'('`，`')'`，`'{'`，`'}'`，`'['`，`']'` 的字符串，判断字符串是否有效。

有效字符串需满足：

1. 左括号必须用相同类型的右括号闭合。
2. 左括号必须以正确的顺序闭合。

注意空字符串可被认为是有效字符串。

**示例 1:**

```cpp
输入: "()"
输出: true
```

**示例 2:**

```cpp
输入: "()[]{}"
输出: true
```

**示例 3:**

```cpp
输入: "(]"
输出: false
```

**示例 4:**

```cpp
输入: "([)]"
输出: false
```

**示例 5:**

```cpp
输入: "{[]}"
输出: true
```

# 我的答案

```java
class Solution {
    private static Map<String,String> leftDict = new HashMap<>();

    static{
        leftDict.put("(",")");
        leftDict.put("{","}");
        leftDict.put("[","]");
       
    }
    
    public boolean isValid(String s) {
        //奇数一定未闭合
        if(s.length()%2!=0){
            return false;
        }
        char[] chars = s.toCharArray();
        List<String> left = new ArrayList<>();
        for(int i = 0,size = chars.length; i<size;i++){
            //左闭合
            if(leftDict.get(chars[i]+"")!=null){
                left.add(chars[i]+"");
                continue;
            }
            //右闭合，就比较是否对应
            //如果左闭合集合为空，直接返回false
            if(left.isEmpty()){
                return false;
            }
            //不对应，返回false
            String l = left.remove(left.size()-1);
            if(!leftDict.get(l).equals(chars[i]+"")){
                return false;
            }
        }
        if(!left.isEmpty()){
            return false;
        }
        return true;
        
    }
}
```

# 官方题解

## 解决方案

------

**思路**

想象一下，你正在为你的大学课设编写一个小型编译器，编译器的任务之一（或称子任务）将检测括号是否匹配。

我们本文中看到的算法可用于处理编译器正在编译的程序中的所有括号，并检查是否所有括号都已配对。这将检查给定的括号字符串是否有效，是一个重要的编程问题。

我们这个问题中将要处理的表达式可以包含以下三种不同类型的括号：

- `()`，
- `{}` 以及
- `[]`

在查看如何检查由这些括号组成的给定表达式是否有效之前，让我们看一下该问题的简化版本，在简化后的问题中，只含一种类型的括号。这么一来，我们将会遇到的表达式是

```
(((((()))))) -- VALID

()()()()     -- VALID

(((((((()    -- INVALID

((()(())))   -- VALID
```

上我们试着用一个简单的算法来解决这一问题。

1. 我们从表达式的左侧开始，每次只处理一个括号。
2. 假设我们遇到一个开括号（即 `(`），表达式是否无效取决于在该表达式的其余部分的某处是否有相匹配的闭括号（即 `)`）。此时，我们只是增加计数器的值保持跟踪现在为止开括号的数目。`left += 1`
3. 如果我们遇到一个闭括号，这可能意味着这样两种情况：
   1. 此闭括号没有与与之对应的开括号，在这种情况下，我们的表达式无效。当 `left == 0`，也就是没有未配对的左括号可用时就是这种情况。
   2. 我们有一些未配对的开括号可以与该闭括号配对。当 `left > 0`，也就是有未配对的左括号可用时就是这种情况。
4. 如果我们在 `left == 0` 时遇到一个闭括号（例如 `)`），那么当前的表达式无效。否则，我们会减少 `left` 的值，也就是减少了可用的未配对的左括号的数量。
5. 继续处理字符串，直到处理完所有括号。
6. 如果最后我们仍然有未配对的左括号，这意味着表达式无效。

在这里讨论这个特定算法是因为我们从该解决方案中获得灵感以解决原始问题。为了更好地理解我们讨论的算法，请观看下面的动画演示。

![Current](data:image/png;base64,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IIAAAggg4BIgTLj4KIwAAggggAAChAnaAAIIIIAAAgi4BAgTLj4KI4AAAggggABhgjaAAAIIIIAAAi4BwoSLj8IIIIAAAgggQJigDSCAAAIIIICAS4Aw4eKjMAIIIIAAAggQJmgDCCCAAAIIIOASIEy4+CiMAAIIIIAAAoQJ2gACCCCAAAIIuAQIEy4+CiOAAAIIIIAAYYI2gAACCCCAAAIuAcKEi4/CCCCAAAIIIECYoA0ggAACCCCAgEuAMOHiozACCCCAAAIIECZoAwgggAACCCDgEiBMuPgojAACCCCAAAKECdoAAggggAACCLgECBMuPgojgAACCCCAAGGCNoAAAggggAACLgHChIuPwggggAACCCBAmKANIIAAAggggIBLgDDh4qMwAggggAACCBAmaAMIIIAAAggg4BIgTLj4KIwAAggggAAChAnaAAIIIIAAAgi4BAgTLj4KI4AAAggggABhgjaAAAIIIIAAAi4BwoSLj8IIIIAAAgggQJigDSCAAAIIIICAS4Aw4eKjMAIIIIAAAggQJmgDCCCAAAIIIOASIEy4+CiMAAIIIIAAAoQJ2gACCCCAAAIIuAQIEy4+CiOAAAIIIIAAYYI2gAACCCCAAAIuAcKEi4/CCCCAAAIIIECYoA0ggAACCCCAgEuAMOHiozACCCCAAAIIECZoAwgggAACCCDgEiBMuPgojAACCCCAAAKECdoAAggggAACCLgECBMuPgojgAACCCCAAGGCNoAAAggggAACLgHChIuPwggggAACCCBAmKANIIAAAggggIBLgDDh4qMwAggggAACCBAmaAMIIIAAAggg4BIgTLj4KIwAAggggAAChAnaAAIIIIAAAgi4BAgTLj4KI4AAAggggABhgjaAAAIIIIAAAi4BwoSLj8IIIIAAAgggQJigDSCAAAIIIICAS4Aw4eKjMAIIIIAAAggQJmgDCCCAAAIIIOASIEy4+CiMAAIIIIAAAoQJ2gACCCCAAAIIuAQIEy4+CiOAAAIIIIAAYYI2gAACCCCAAAIuAcKEi4/CCCCAAAIIIECYoA0ggAACCCCAgEuAMOHiozACCCCAAAIIECZoAwgggAACCCDgEiBMuPgojAACCCCAAAKECdoAAggggAACCLgECBMuPgojgAACCCCAAGGCNoAAAggggAACLgHChIuPwggggAACCCBAmKANIIAAAggggIBLgDDh4qMwAggggAACCBAmaAMIIIAAAggg4BIgTLj4KIwAAggggAAChAnaAAIIIIAAAgi4BAgTLj4KI4AAAggggABhgjaAAAIIIIAAAi4BwoSLj8IIIIAAAgggQJigDSCAAAIIIICAS4Aw4eKjMAIIIIAAAggQJmgDCCCAAONQQPsAAABZSURBVAIIIOASIEy4+CiMAAIIIIAAAoQJ2gACCCCAAAIIuAQIEy4+CiOAAAIIIIAAYYI2gAACCCCAAAIuAcKEi4/CCCCAAAIIIECYoA0ggAACCCCAgEvgfwDMmaqTqrgGOAAAAABJRU5ErkJggg==)









1 / 12





如果我们只是尝试对原始问题采用相同的办法，这是根本就行不通的。基于简单计数器的方法能够在上面完美运行是因为所有括号都具有相同的类型。因此，当我们遇到一个闭括号时，我们只需要假设有一个对应匹配的开括号是可用的，即假设 `left > 0`。

但是，在我们的问题中，如果我们遇到 `]`，我们真的不知道是否有相应的 `[` 可用。你可能会问：

> 为什么不为不同类型的括号分别维护一个单独的计数器？

这可能不起作用，因为括号的相对位置在这里也很重要。例如：

```
[{]
```

如果我们只是在这里维持计数器，那么只要我们遇到闭合方括号，我们就会知道此处有一个可用的未配对的开口方括号。但是，**最近的未配对的开括号是一个花括号，而不是一个方括号**，因此计数方法在这里被打破了。

------

#### 方法：栈

关于有效括号表达式的一个有趣属性是有效表达式的子表达式也应该是有效表达式。（不是每个子表达式）例如

![img](https://leetcode-cn.com/problems/valid-parentheses/Figures/20/20-Valid-Parentheses-Recursive-Property.png)

此外，如果仔细查看上述结构，颜色标识的单元格将标记开闭的括号对。整个表达式是有效的，而它的子表达式本身也是有效的。这为问题提供了一种递归结构。例如，考虑上图中两个绿色括号内的表达式。开括号位于索引 `1`，相应闭括号位于索引 `6`。

> 如果每当我们在表达式中遇到一对匹配的括号时，我们只是从表达式中删除它，会发生什么？

让我们看看下面的这个想法，从整体表达式中一次删除一个较小的表达式，因为这是一个有效的表达式，我们最后剩留下一个空字符串。

![Current](data:image/png;base64,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AmIij7upBAgQIECgGAExUcxR2ggBAgQIEMgjICbyuJtKgAABAgSKERATxRyljRAgQIAAgTwCYiKPu6kECBAgQKAYATFRzFHaCAECBAgQyCMgJvK4m0qAAAECBIoREBPFHKWNECBAgACBPAJiIo+7qQQIECBAoBgBMVHMUdoIAQIECBDIIyAm8ribSoAAAQIEihEQE8UcpY0QIECAAIE8AmIij7upBAgQIECgGAExUcxR2ggBAgQIEMgjICbyuJtKgAABAgSKERATxRyljRAgQIAAgTwCYiKPu6kECBAgQKAYATFRzFHaCAECBAgQyCMgJvK4m0qAAAECBIoREBPFHKWNECBAgACBPAJiIo+7qQQIECBAoBgBMVHMUdoIAQIECBDIIyAm8ribSoAAAQIEihEQE8UcpY0QIECAAIE8AmIij7upBAgQIECgGAExUcxR2ggBAgQIEMgjICbyuJtKgAABAgSKERATxRyljRAgQIAAgTwCYiKPu6kECBAgQKAYATFRzFHaCAECBAgQyCMgJvK4m0qAAAECBIoREBPFHKWNECBAgACBPAJiIo+7qQQIECBAoBgBMVHMUdoIAQIECBDIIyAm8ribSoAAAQIEihEQE8UcpY0QIECAAIE8AmIij7upBAgQIECgGAExUcxR2ggBAgQIEMgjICbyuJtKgAABAgSKERATxRyljRAgQIAAgTwCYiKPu6kECBAgQKAYATFRzFHaCAECBAgQyCMgJvK4m0qAAAECBIoREBPFHKWNECBAgACBPAJiIo+7qQQIECBAoBgBMVHMUdoIAQIECBDIIyAm8ribSoAAAQIEihEQE8UcpY0QIECAAIE8AmIij7upBAgQIECgGAExUcxR2ggBAgQIEMgjICbyuJtKgAABAgSKERATxRyljRAgQIAAgTwCYiKPu6kECBAgQKAYgf8CR2kC3zodvscAAAAASUVORK5CYII=)







5 / 5





> 在表示问题的递归结构时，栈数据结构可以派上用场。我们无法真正地从内到外处理这个问题，因为我们对整体结构一无所知。但是，栈可以帮助我们递归地处理这种情况，即从外部到内部。

让我们看看使用栈作为该问题的中间数据结构的算法。

**算法**

1. 初始化栈 S。
2. 一次处理表达式的每个括号。
3. 如果遇到开括号，我们只需将其推到栈上即可。这意味着我们将稍后处理它，让我们简单地转到前面的 **子表达式**。
4. 如果我们遇到一个闭括号，那么我们检查栈顶的元素。如果栈顶的元素是一个 `相同类型的` 左括号，那么我们将它从栈中弹出并继续处理。否则，这意味着表达式无效。
5. 如果到最后我们剩下的栈中仍然有元素，那么这意味着表达式无效。

我们来看一下该算法的动画演示，然后转到实现部分。

![Current](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhMAAAEpCAYAAAApqqByAAAgAElEQVR4Xu3dedQdVbkn4B1IPhBBHHFikjggKAI3KCKGgEKLswLKoKhwlRDRBVxARFDEiLgAB2gUpNsBW1uRCIroVZdCQAYVEQfQhUAQNDhdlSuhGdT0eit+NKu7zUnOu89Qp55aC/46u2rvZ79fzu9U7aqasXz58uXFRoAAAQIECBDoU2CGMNGnnGYECBAgQIBAIyBMKAQCBAgQIEAgJSBMpPg0JkCAAAECBIQJNUCAAAECBAikBISJFJ/GBAgQIECAgDChBggQIECAAIGUgDCR4tOYAAECBAgQECbUAAECBAgQIJASECZSfBoTIECAAAECwoQaIECAAAECBFICwkSKT2MCBAgQIEBAmFADBAgQIECAQEpAmEjxaUyAAAECBAgIE2qAAAECBAgQSAkIEyk+jQkQIECAAAFhQg0QIECAAAECKQFhIsWnMQECBAgQICBMqAECBAgQIEAgJSBMpPg0JkCAAAECBIQJNUCAAAECBAikBISJFJ/GBAgQIECAgDChBggQIECAAIGUgDCR4tOYAAECBAgQECbUAAECBAgQIJASECZSfBoTIECAAAECwoQaIECAAAECBFICwkSKT2MCBAgQIEBAmFADBAgQIECAQEpAmEjxaUyAAAECBAgIE2qAAAECBAgQSAkIEyk+jQkQIECAAAFhQg0QIECAAAECKQFhIsWnMQECBAgQICBMqAECBAgQIEAgJSBMpPg0JkCAAAECBIQJNUCAAAECBAikBISJFJ/GBAgQIECAgDChBggQIECAAIGUgDCR4tOYAAECBAgQECbUAAECBAgQIJASECZSfBoTIECAAAECwoQaIECAAAECBFICwkSKT2MCBAgQIEBAmFADBAgQIECAQEpAmEjxaUyAAAECBAgIE2qAAAECBAgQSAkIEyk+jQkQIECAAAFhQg0QIECAAAECKQFhIsWnMQECBAgQICBMqAECBAgQIEAgJSBMpPg0JkCAAAECBIQJNUCAAAECBAikBISJFJ/GBAgQIECAgDChBggQIECAAIGUgDCR4tOYAAECBAgQECbUAAECBAgQIJASECZSfBoTIECAAAECwoQaIECAAAECBFICwkSKT2MCBAgQIEBAmFADBAgQIECAQEpAmEjxaUyAAAECBAgIE2qAAAECBAgQSAkIEyk+jQkQIECAAAFhQg0QIECAAAECKQFhIsWnMQECBAgQICBMqAECBAgQIEAgJSBMpPg0JkCAAAECBIQJNUCAAAECBAikBISJFJ/GBAgQIECAgDChBggQIECAAIGUgDCR4tOYAAECBAgQECbUAAECBAgQIJASECb+wXfSSSeVQw89tKy99topUI0JECBAgEDXBISJf8z4zjvvXC688MKy7rrrdq0GjJcAAQIECKQEhAlhIlVAGhMgQIAAAWFCmPBXQIAAAQIEUgLChDCRKiCNCRAgQICAMCFM+CsgQIAAAQIpAWFCmEgVkMYECBAgQECYECb8FRAgQIAAgZSAMCFMpApIYwIECBAgIEwIE/4KCBAgQIBASqDzYeKEE04oV1xxRfn+979ftt1227LmmmuWc845p2ywwQYpWI0JECBAgEBXBDofJk4++eRy1FFH3T/fW2yxRbnuuuu6Mv/GSYAAAQIE0gKdDxNLliwps2fPLsuXL28wTz311HL44YenYe2AAAECBAh0RaDzYSImOt7LcckllzRz/pOf/KQ87WlP68r8GycBAgQIEEgLCBOllLPOOqvMnz+/TE1NlTvuuMObQ9NlZQcECBAg0CUBYaKU8qMf/ahsvfXW5eijjy7ve9/7ujT/xkqAAAECBNICwkQp5a9//WvZbLPNyve+973ymMc8Jo1qBwQIECBAoEsCrQ8Td999d7nrrrvSc7Zo0aLykpe8pLnUYSNAgAABAsMSWGeddVp/eb31YeLle7+6/Gajhw9rznse544f/7y8bZ/X9fzcsD5w6623lo033nhYh1ul4/z2t78tj370o1fps8P40He+852y4447DuNQq3SMz372s2Xfffddpc8O40Mf+tCHyqGHHjqMQ63SMb74xS+WV77ylav02WF8KJ5Rs9122w3jUKt0jFj3tdZaa43Vl9MNN9xQnvzkJ69S/4fxoYsuuqi86EUvGsahVukY5557bvnqV7+6Sp8d1w+1Pky88rX7lbX3f/HY+P76q5eUxR88a2z6c+211zbrQcZpu/HGG8sTn/jEsenSJz/5yfL6179+bPoTX9zxBT4u24tf/OLyla98ZVy6U4499tiycOHCsenPeeedV/bcc8+x6c9vfvObsu666zb/jcs2boH9pJNOatbIjcu29957l8997nPj0p2++iFM9MX2zxsJE71B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)

现在让我们看看该算法是如何实现的。

```java
class Solution {

  // Hash table that takes care of the mappings.
  private HashMap<Character, Character> mappings;

  // Initialize hash map with mappings. This simply makes the code easier to read.
  public Solution() {
    this.mappings = new HashMap<Character, Character>();
    this.mappings.put(')', '(');
    this.mappings.put('}', '{');
    this.mappings.put(']', '[');
  }

  public boolean isValid(String s) {

    // Initialize a stack to be used in the algorithm.
    Stack<Character> stack = new Stack<Character>();

    for (int i = 0; i < s.length(); i++) {
      char c = s.charAt(i);

      // If the current character is a closing bracket.
      if (this.mappings.containsKey(c)) {

        // Get the top element of the stack. If the stack is empty, set a dummy value of '#'
        char topElement = stack.empty() ? '#' : stack.pop();

        // If the mapping for this bracket doesn't match the stack's top element, return false.
        if (topElement != this.mappings.get(c)) {
          return false;
        }
      } else {
        // If it was an opening bracket, push to the stack.
        stack.push(c);
      }
    }

    // If the stack still contains elements, then it is an invalid expression.
    return stack.isEmpty();
  }
}
```





**复杂度分析**

- 时间复杂度：O(n)，因为我们一次只遍历给定的字符串中的一个字符并在栈上进行 O(1) 的推入和弹出操作。
- 空间复杂度：O(n)，当我们将所有的开括号都推到栈上时以及在最糟糕的情况下，我们最终要把所有括号推到栈上。例如 `((((((((((`。

# 总结

碰到这种问题可以回想下数据结构的内容，合理使用栈和队列。在平常的开发过程中也要多思考🤔！